{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\molli\\\\Desktop\\\\full-stack\\\\movie-fanatic-club\\\\movie-fanatic-club\\\\src\\\\components\\\\Movie.js\";\n// body component for loading stuff about an individual movie\n// when the user clicks on it\nimport React from \"react\";\nimport \"../index.css\";\nimport { Media, Container, Row, Button } from \"reactstrap\";\nimport { NavLink } from \"react-router-dom\";\nimport { TiPlusOutline, TiMinusOutline } from \"react-icons/ti\";\nimport { auth, db } from \"./Firebase\";\nimport firebase from \"firebase\";\n\nclass Movie extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      movie: {},\n      movies: {},\n      loading: true\n    };\n    this.addToWatchlist = this.addToWatchlist.bind(this);\n    this.removeFromWatchlist = this.removeFromWatchlist.bind(this);\n  }\n\n  addToWatchlist() {\n    var watchlistRef = db.collection(\"user\").doc(auth.currentUser.email);\n    watchlistRef.update({\n      watchlist: firebase.firestore.FieldValue.arrayUnion(this.state.movie.id)\n    });\n    alert(\"adding to watchlist\");\n  }\n\n  removeFromWatchlist() {\n    var watchlistRef = db.collection(\"user\").doc(auth.currentUser.email);\n    watchlistRef.update({\n      watchlist: firebase.firestore.FieldValue.arrayRemove(this.state.movie.id)\n    });\n    alert(\"removing from watchlist\");\n  }\n\n  componentDidMount() {\n    fetch(\"https://imdb-internet-movie-database-unofficial.p.rapidapi.com/film/\" + this.props.location.id, {\n      method: \"GET\",\n      headers: {\n        \"x-rapidapi-host\": \"imdb-internet-movie-database-unofficial.p.rapidapi.com\",\n        \"x-rapidapi-key\": \"c3bfcbae69msh2fefac5f7da67adp1d2687jsnade70055f49b\"\n      }\n    }).then(response => {\n      response.json().then(data => {\n        this.setState({\n          movie: data\n        });\n        console.log(this.state.movie);\n      });\n    }).catch(err => {\n      console.log(err);\n    });\n    fetch(\"https://www.omdbapi.com/?apikey=1e54e73e&i=\" + this.props.location.id).then(response => {\n      response.json().then(data => {\n        this.setState({\n          movies: data\n        });\n        console.log(this.state.movies);\n      });\n    }).catch(err => {\n      console.log(err);\n    });\n  } // below I added a link back to the landing page, just to make our lives easier while testing\n  // we'll remove it when we actually build the events page, since users won't need to go back to\n  // the landing page\n\n\n  render() {\n    return React.createElement(Container, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, this.state.movie ? React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      title: \"if u stan imdb...\",\n      className: \"movie-title\",\n      rel: \"noopener noreferrer\",\n      target: \"_blank\",\n      href: \"https://www.imdb.com/title/\" + this.state.movie.id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, this.state.movie.title, \" (\", this.state.movie.year, \")\")), React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"movie-poster\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      title: \"trailer is here!\",\n      className: \"movie-title\",\n      rel: \"noopener noreferrer\",\n      target: \"_blank\",\n      href: this.state.movie.trailer ? this.state.movie.trailer.link : \"/\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      className: \"movie-actual-poster\",\n      alt: this.state.movie.title,\n      src: this.state.movie.poster,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    })))), React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"movie-director\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }, \"directed by: \", this.state.movies.Director)), React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"movie-info\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    }, this.state.movies.Rated, \" | \", this.state.movies.Runtime, \" |\", \" \", this.state.movies.Released)), React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"movie-info\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    }, this.state.movies.Country, \" | \", this.state.movies.Language)), React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"movie-info\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139\n      },\n      __self: this\n    }, \"IMDb rating: \", this.state.movies.imdbRating, \" | Metascore:\", \" \", this.state.movies.Metascore)), React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"movie-director\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    }, this.state.movies.Production ? this.state.movies.Production : \"\")), React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"movie-info\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152\n      },\n      __self: this\n    }, \"AWARDS: \", this.state.movies.Awards)), React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"movie-info\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157\n      },\n      __self: this\n    }, \"PLOT: \", this.state.movies.Plot)), this.state.movie.cast ? this.state.movie.cast.map(item => {\n      return React.createElement(Row, {\n        key: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"movie-actor\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        className: \"movie-actor-link\",\n        rel: \"noopener noreferrer\",\n        target: \"_blank\",\n        href: \"https://www.imdb.com/name/\" + item.actor_id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164\n        },\n        __self: this\n      }, item.actor), \" \", \"as \", item.character));\n    }) : \"\", React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"movie-btn\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180\n      },\n      __self: this\n    }, React.createElement(Button, {\n      className: \"movie-rl-btn\",\n      onClick: () => {\n        this.addToWatchlist();\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181\n      },\n      __self: this\n    }, React.createElement(TiPlusOutline, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187\n      },\n      __self: this\n    }), \" watchlist\"))), React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"movie-btn\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192\n      },\n      __self: this\n    }, \" \", React.createElement(Button, {\n      className: \"movie-rl-btn\",\n      onClick: () => {\n        this.removeFromWatchlist();\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194\n      },\n      __self: this\n    }, React.createElement(TiMinusOutline, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200\n      },\n      __self: this\n    }), \" watchlist\")))) : React.createElement(Media, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206\n      },\n      __self: this\n    }, \"wait a sec bru\"));\n  }\n\n}\n\nexport default Movie;","map":{"version":3,"sources":["C:/Users/molli/Desktop/full-stack/movie-fanatic-club/movie-fanatic-club/src/components/Movie.js"],"names":["React","Media","Container","Row","Button","NavLink","TiPlusOutline","TiMinusOutline","auth","db","firebase","Movie","Component","constructor","props","state","movie","movies","loading","addToWatchlist","bind","removeFromWatchlist","watchlistRef","collection","doc","currentUser","email","update","watchlist","firestore","FieldValue","arrayUnion","id","alert","arrayRemove","componentDidMount","fetch","location","method","headers","then","response","json","data","setState","console","log","catch","err","render","title","year","trailer","link","poster","Director","Rated","Runtime","Released","Country","Language","imdbRating","Metascore","Production","Awards","Plot","cast","map","item","actor_id","actor","character"],"mappings":"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","sourcesContent":["// body component for loading stuff about an individual movie\r\n// when the user clicks on it\r\n\r\nimport React from \"react\";\r\nimport \"../index.css\";\r\nimport { Media, Container, Row, Button } from \"reactstrap\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport { TiPlusOutline, TiMinusOutline } from \"react-icons/ti\";\r\nimport { auth, db } from \"./Firebase\";\r\nimport firebase from \"firebase\";\r\n\r\nclass Movie extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      movie: {},\r\n      movies: {},\r\n      loading: true\r\n    };\r\n\r\n    this.addToWatchlist = this.addToWatchlist.bind(this);\r\n    this.removeFromWatchlist = this.removeFromWatchlist.bind(this);\r\n  }\r\n\r\n  addToWatchlist() {\r\n    var watchlistRef = db.collection(\"user\").doc(auth.currentUser.email);\r\n    watchlistRef.update({\r\n      watchlist: firebase.firestore.FieldValue.arrayUnion(this.state.movie.id)\r\n    });\r\n    alert(\"adding to watchlist\");\r\n  }\r\n\r\n  removeFromWatchlist() {\r\n    var watchlistRef = db.collection(\"user\").doc(auth.currentUser.email);\r\n    watchlistRef.update({\r\n      watchlist: firebase.firestore.FieldValue.arrayRemove(this.state.movie.id)\r\n    });\r\n    alert(\"removing from watchlist\");\r\n  }\r\n\r\n  componentDidMount() {\r\n    fetch(\r\n      \"https://imdb-internet-movie-database-unofficial.p.rapidapi.com/film/\" +\r\n        this.props.location.id,\r\n      {\r\n        method: \"GET\",\r\n        headers: {\r\n          \"x-rapidapi-host\":\r\n            \"imdb-internet-movie-database-unofficial.p.rapidapi.com\",\r\n          \"x-rapidapi-key\": \"c3bfcbae69msh2fefac5f7da67adp1d2687jsnade70055f49b\"\r\n        }\r\n      }\r\n    )\r\n      .then(response => {\r\n        response.json().then(data => {\r\n          this.setState({\r\n            movie: data\r\n          });\r\n          console.log(this.state.movie);\r\n        });\r\n      })\r\n      .catch(err => {\r\n        console.log(err);\r\n      });\r\n\r\n    fetch(\r\n      \"https://www.omdbapi.com/?apikey=1e54e73e&i=\" + this.props.location.id\r\n    )\r\n      .then(response => {\r\n        response.json().then(data => {\r\n          this.setState({\r\n            movies: data\r\n          });\r\n          console.log(this.state.movies);\r\n        });\r\n      })\r\n      .catch(err => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  // below I added a link back to the landing page, just to make our lives easier while testing\r\n  // we'll remove it when we actually build the events page, since users won't need to go back to\r\n  // the landing page\r\n  render() {\r\n    return (\r\n      <Container>\r\n        {this.state.movie ? (\r\n          <div>\r\n            <Row>\r\n              <a\r\n                title=\"if u stan imdb...\"\r\n                className=\"movie-title\"\r\n                rel=\"noopener noreferrer\"\r\n                target=\"_blank\"\r\n                href={\"https://www.imdb.com/title/\" + this.state.movie.id}\r\n              >\r\n                {this.state.movie.title} ({this.state.movie.year})\r\n              </a>\r\n            </Row>\r\n            <Row>\r\n              <div className=\"movie-poster\">\r\n                <a\r\n                  title=\"trailer is here!\"\r\n                  className=\"movie-title\"\r\n                  rel=\"noopener noreferrer\"\r\n                  target=\"_blank\"\r\n                  href={\r\n                    this.state.movie.trailer\r\n                      ? this.state.movie.trailer.link\r\n                      : \"/\"\r\n                  }\r\n                >\r\n                  <img\r\n                    className=\"movie-actual-poster\"\r\n                    alt={this.state.movie.title}\r\n                    src={this.state.movie.poster}\r\n                  />\r\n                </a>\r\n              </div>\r\n            </Row>\r\n            <Row>\r\n              <div className=\"movie-director\">\r\n                directed by: {this.state.movies.Director}\r\n              </div>\r\n            </Row>\r\n            <Row>\r\n              <div className=\"movie-info\">\r\n                {this.state.movies.Rated} | {this.state.movies.Runtime} |{\" \"}\r\n                {this.state.movies.Released}\r\n              </div>\r\n            </Row>\r\n            <Row>\r\n              <div className=\"movie-info\">\r\n                {this.state.movies.Country} | {this.state.movies.Language}\r\n              </div>\r\n            </Row>\r\n            <Row>\r\n              <div className=\"movie-info\">\r\n                IMDb rating: {this.state.movies.imdbRating} | Metascore:{\" \"}\r\n                {this.state.movies.Metascore}\r\n              </div>\r\n            </Row>\r\n            <Row>\r\n              <div className=\"movie-director\">\r\n                {this.state.movies.Production\r\n                  ? this.state.movies.Production\r\n                  : \"\"}\r\n              </div>\r\n            </Row>\r\n            <Row>\r\n              <div className=\"movie-info\">\r\n                AWARDS: {this.state.movies.Awards}\r\n              </div>\r\n            </Row>\r\n            <Row>\r\n              <div className=\"movie-info\">PLOT: {this.state.movies.Plot}</div>\r\n            </Row>\r\n            {this.state.movie.cast\r\n              ? this.state.movie.cast.map(item => {\r\n                  return (\r\n                    <Row key=\"\">\r\n                      <div className=\"movie-actor\">\r\n                        <a\r\n                          className=\"movie-actor-link\"\r\n                          rel=\"noopener noreferrer\"\r\n                          target=\"_blank\"\r\n                          href={\"https://www.imdb.com/name/\" + item.actor_id}\r\n                        >\r\n                          {item.actor}\r\n                        </a>{\" \"}\r\n                        as {item.character}\r\n                      </div>\r\n                    </Row>\r\n                  );\r\n                })\r\n              : \"\"}\r\n\r\n            <Row>\r\n              <div className=\"movie-btn\">\r\n                <Button\r\n                  className=\"movie-rl-btn\"\r\n                  onClick={() => {\r\n                    this.addToWatchlist();\r\n                  }}\r\n                >\r\n                  <TiPlusOutline /> watchlist\r\n                </Button>\r\n              </div>\r\n            </Row>\r\n            <Row>\r\n              <div className=\"movie-btn\">\r\n                {\" \"}\r\n                <Button\r\n                  className=\"movie-rl-btn\"\r\n                  onClick={() => {\r\n                    this.removeFromWatchlist();\r\n                  }}\r\n                >\r\n                  <TiMinusOutline /> watchlist\r\n                </Button>\r\n              </div>\r\n            </Row>\r\n          </div>\r\n        ) : (\r\n          <Media>wait a sec bru</Media>\r\n        )}\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Movie;\r\n"]},"metadata":{},"sourceType":"module"}