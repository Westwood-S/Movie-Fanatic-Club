{"ast":null,"code":"import _regeneratorRuntime from\"/home/lishi/Desktop/fullstack/movie-fanatic-club/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/lishi/Desktop/fullstack/movie-fanatic-club/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/home/lishi/Desktop/fullstack/movie-fanatic-club/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/lishi/Desktop/fullstack/movie-fanatic-club/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/home/lishi/Desktop/fullstack/movie-fanatic-club/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/home/lishi/Desktop/fullstack/movie-fanatic-club/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"/home/lishi/Desktop/fullstack/movie-fanatic-club/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/home/lishi/Desktop/fullstack/movie-fanatic-club/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from\"react\";import{CardText,CardTitle,CardSubtitle,TabContent,TabPane,Nav,NavItem,Row,Col,Media}from\"reactstrap\";import classnames from'classnames';import rp from\"request-promise\";import cheerio from\"cheerio\";import{NavLink}from\"react-router-dom\";var ComingSoon=/*#__PURE__*/function(_Component){_inherits(ComingSoon,_Component);function ComingSoon(){var _this;_classCallCheck(this,ComingSoon);_this=_possibleConstructorReturn(this,_getPrototypeOf(ComingSoon).call(this));_this.state={value:0,dates:[],activeTab:\"\",apis:[]};_this.handleWatchlist=_this.handleWatchlist.bind(_assertThisInitialized(_this));return _this;}_createClass(ComingSoon,[{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _this2=this;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return rp(\"https://cors-anywhere.herokuapp.com/https://www.imdb.com/calendar?region=US&ref_=rlm\").then(function(html){var dates=[],apis=[];var $=cheerio.load(html);$(\"#main h4\").each(function(){var date=$(this).prepend().text();dates.push(date);});_this2.setState({dates:dates});$(\"#main ul li a\").each(function(){var name=$(this).attr(\"href\");var link=name.match(/(?<=title\\/)[\\s\\S]*?(?=\\/)/g);fetch(\"https://www.omdbapi.com/?apikey=1e54e73e&i=\"+link[0]).then(function(response){response.json().then(function(data){apis.push(data);});}).catch(function(err){console.log(err);});});_this2.setState({apis:apis});}).catch(function(err){console.log(err);});case 2:case\"end\":return _context.stop();}}},_callee);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"handleWatchlist\",value:function handleWatchlist(){}},{key:\"render\",value:function render(){var _this3=this;var toggle=function toggle(tab){if(_this3.state.activeTab!==tab)_this3.setState({activeTab:tab});};var tabNames=[];return React.createElement(\"div\",null,React.createElement(\"h2\",{className:\"section-titles\"},\"Coming Sooooooon\"),React.createElement(\"div\",{className:\"tabs\"},React.createElement(Nav,{tabs:true},this.state.dates.map(function(item){var tabName=item.split(\" \")[1].slice(0,3)+\" \"+item.split(\" \")[2];if(tabNames.includes(tabName))return\"\";else{tabNames.push(tabName);return React.createElement(NavItem,{key:item,className:\"nav-items\"},React.createElement(\"a\",{className:classnames({active:_this3.state.activeTab===tabName}),onClick:function onClick(){toggle(tabName);}},React.createElement(\"button\",{className:\"tab-btn\"},tabName)));}})),React.createElement(TabContent,{activeTab:this.state.activeTab},tabNames.map(function(item){return React.createElement(TabPane,{tabId:item,key:item},React.createElement(Row,null,_this3.state.apis.filter(function(data){return data.Released.slice(3,11)===item;}).map(function(data){return React.createElement(Col,{xl:\"6\",key:data.Title},React.createElement(Media,{className:\"media-body\"},React.createElement(Media,{left:true,className:\"media-pic\"},React.createElement(\"a\",{href:\"https://www.imdb.com/title/\"+data.imdbID,title:\"none clickbait\",rel:\"noopener noreferrer\",target:\"_blank\",className:\"media-pic\"},React.createElement(\"img\",{alt:data.Title,src:data.Poster}))),React.createElement(Media,{body:true,className:\"cards-body\"},React.createElement(CardTitle,null,React.createElement(NavLink,{to:{pathname:\"./Movie\",id:data.imdbID},className:\"card-title\",title:\"more info\"},data.Title)),React.createElement(CardSubtitle,{className:\"card-subtitles\"},data.Rated,\" | \",data.Runtime,\" | \",data.Genre,\" |\",\" \",data.Released),React.createElement(CardText,{className:\"comingsoon-Card\"},\"Director: \",data.Director),React.createElement(CardText,{className:\"comingsoon-Card\"},\"Actors: \",data.Actors),React.createElement(CardText,{className:\"comingsoon-Plot\"},\"Plot: \",data.Plot))));})));}))));}}]);return ComingSoon;}(Component);export default ComingSoon;","map":{"version":3,"sources":["/home/lishi/Desktop/fullstack/movie-fanatic-club/src/components/comingSoon.js"],"names":["React","Component","CardText","CardTitle","CardSubtitle","TabContent","TabPane","Nav","NavItem","Row","Col","Media","classnames","rp","cheerio","NavLink","ComingSoon","state","value","dates","activeTab","apis","handleWatchlist","bind","then","html","$","load","each","date","prepend","text","push","setState","name","attr","link","match","fetch","response","json","data","catch","err","console","log","toggle","tab","tabNames","map","item","tabName","split","slice","includes","active","filter","Released","Title","imdbID","Poster","pathname","id","Rated","Runtime","Genre","Director","Actors","Plot"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport {\n  CardText,\n  CardTitle,\n  CardSubtitle,\n  TabContent,\n  TabPane,\n  Nav,\n  NavItem,\n  Row,\n  Col,\n  Media\n} from \"reactstrap\";\nimport classnames from 'classnames';\nimport rp from \"request-promise\";\nimport cheerio from \"cheerio\";\nimport { NavLink } from \"react-router-dom\";\n\nclass ComingSoon extends Component {\n  constructor() {\n    super();\n    this.state = {\n      value: 0,\n      dates: [],\n      activeTab: \"\",\n      apis: []\n    };\n\n    this.handleWatchlist = this.handleWatchlist.bind(this);\n  }\n\n  async componentDidMount() {\n    await rp(\n      \"https://cors-anywhere.herokuapp.com/https://www.imdb.com/calendar?region=US&ref_=rlm\"\n    )\n      .then(html => {\n        let dates = [],\n          apis = [];\n        let $ = cheerio.load(html);\n\n        $(\"#main h4\").each(function () {\n          let date = $(this)\n            .prepend()\n            .text();\n\n          dates.push(date);\n        });\n        this.setState({\n          dates: dates\n        });\n\n        $(\"#main ul li a\").each(function () {\n          let name = $(this).attr(\"href\");\n          let link = name.match(/(?<=title\\/).*?(?=\\/)/gs);\n\n          fetch(\"https://www.omdbapi.com/?apikey=1e54e73e&i=\" + link[0])\n            .then(response => {\n              response.json().then(data => {\n                apis.push(data);\n              });\n            })\n            .catch(err => {\n              console.log(err);\n            });\n        });\n        this.setState({\n          apis: apis\n        });\n      })\n      .catch(function (err) {\n        console.log(err);\n      });\n  }\n\n  handleWatchlist() { }\n\n  render() {\n    const toggle = tab => {\n      if (this.state.activeTab !== tab) this.setState({ activeTab: tab });\n    };\n\n    var tabNames = [];\n\n    return (\n      <div>\n        <h2 className=\"section-titles\">Coming Sooooooon</h2>\n\n        <div className=\"tabs\">\n          <Nav tabs>\n            {this.state.dates.map(item => {\n              const tabName =\n                item.split(\" \")[1].slice(0, 3) + \" \" + item.split(\" \")[2];\n              if (tabNames.includes(tabName)) return \"\";\n              else {\n                tabNames.push(tabName);\n                return (\n                  <NavItem key={item} className=\"nav-items\">\n                    <a\n                      className={classnames({\n                        active: this.state.activeTab === tabName\n                      })}\n                      onClick={() => {\n                        toggle(tabName);\n                      }}\n                    >\n                      <button className=\"tab-btn\">{tabName}</button>\n                    </a>\n                  </NavItem>\n                );\n              }\n            })}\n          </Nav>\n          <TabContent activeTab={this.state.activeTab}>\n            {tabNames.map(item => {\n              return (\n                <TabPane tabId={item} key={item}>\n                  <Row>\n                    {this.state.apis\n                      .filter(data => data.Released.slice(3, 11) === item)\n                      .map(data => {\n                        return (\n                          <Col xl=\"6\" key={data.Title}>\n                            <Media className=\"media-body\">\n                              <Media left className=\"media-pic\">\n                                <a\n                                  href={\n                                    \"https://www.imdb.com/title/\" + data.imdbID\n                                  }\n                                  title=\"none clickbait\"\n                                  rel=\"noopener noreferrer\"\n                                  target=\"_blank\"\n                                  className=\"media-pic\"\n                                >\n                                  <img alt={data.Title} src={data.Poster} />\n                                </a>\n                              </Media>\n                              <Media body className=\"cards-body\">\n                                <CardTitle>\n                                  <NavLink\n                                    to={{\n                                      pathname: \"./Movie\",\n                                      id: data.imdbID\n                                    }}\n                                    className=\"card-title\"\n                                    title=\"more info\"\n                                  >\n                                    {data.Title}\n                                  </NavLink>\n                                </CardTitle>\n                                <CardSubtitle className=\"card-subtitles\">\n                                  {data.Rated} | {data.Runtime} | {data.Genre} |{\" \"}\n                                  {data.Released}\n                                </CardSubtitle>\n                                <CardText className=\"comingsoon-Card\">Director: {data.Director}</CardText>\n                                <CardText className=\"comingsoon-Card\">Actors: {data.Actors}</CardText>\n                                <CardText className=\"comingsoon-Plot\">Plot: {data.Plot}</CardText>\n                              </Media>\n                            </Media>\n                          </Col>\n                        );\n                      })}\n                  </Row>\n                </TabPane>\n              );\n            })}\n          </TabContent>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default ComingSoon;\n"]},"metadata":{},"sourceType":"module"}